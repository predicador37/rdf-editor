\chapter{Trabajos previos, estado actual y recursos}


\section{Trabajos previos} \label{trabajosprevios}

Para enfocar el presente proyecto se llevó a cabo un estudio previo de los trabajos existentes que pudieran estar relacionado con los objetivos del mismo. En las siguientes subsecciones se analizan las familias de herramientas analizadas.

\subsection{Herramientas de consulta}

La herramienta de consulta web que se asemeja más a los resultados obtenidos con este proyecto es el SPARQL playground desarrollado por el \textit{Swiss Institute of Bioinformatics}\footnote{https://www.isb-sib.ch}.

Se trata de una aplicación web\textit{ standalone} y multiplataforma cuyo propósito fundamental es el aprendizaje de SPARQL. Sus autores proporcionan una demo \textit{online}\footnote{http://sparql-playground.sib.swiss/} además de documentación y consultas de ejemplo para que cualquiera pueda familiarizarse con este lenguaje de consulta.

Si bien sus funcionalidades de consulta son muy completas, carece de facilidades de edición de grafos propios o de consulta a \textit{endpoints} externos, por ejemplo.

\begin{figure}[h]
	\centering
	\includegraphics[scale=0.25]{sparql_playground}
	\caption{Interfaz de SPARQL \textit{playground}}
\end{figure}

Existan también bibliotecas de consulta para el \textit{frontend}, como Jassa (\textit{JAvascript Suite for Sparql Access})\footnote{http://aksw.org/Projects/Jassa.html}. Se trata de una biblioteca modular que comprende desde una API RDF sobre una capa de abstracción de servicios hasta una capa de navegación por facetas. Sin embargo, desarrolla un modelo propio del grafo RDF no basado en estándares y se integra con versiones muy antiguas de Angular, lo que hace que pierda interés para su uso en producción.

\subsection{Herramientas de modelado}

\subsubsection{Herramientas web}

Existen pocas herramientas con funcionalidades de edición de grafos RDF en la Web. Al margen de la versión web de Protégé, cuya versión de escritorio (más representativa) se comenta en el punto \ref{deescritorio}, el resto de trabajos encontrados son fundamentalmente bibliotecas o paquetes de edición de formularios, como rdfforms\footnote{https://rdforms.org/}. Se trata de una biblioteca Javascript cuyo propósito es facilitar la construcción de editores RDF basados en formularios en un entorno web. Para ello, se basa en un mecanismo de plantillas que describe cómo generar un formulario HTML y cómo mapear expresiones específicas en un grafo RDF a sus correspondientes campos.

Unas pruebas iniciales con la biblioteca sugirieron falta de madurez por fallos en su funcionamiento en un navegador. Además, la biblioteca implementa su propio modelo de grafo RDF, que no está relacionado con los estándares actuales (ver sección \ref{estadoactual}).

\begin{figure}[h]
	\centering
	\includegraphics[scale=0.25]{rdfforms}
	\caption{Ejemplo de formulario desarrollado con rdfforms}
\end{figure}

\subsubsection{Herramientas de escritorio} \label{deescritorio}

La herramienta de modelado de ontologías en RDF por antonomasia es Protégé, un editor de ontologías \textit{opensource} gratuito y un marco de trabajo para construir sistemas inteligentes soportados por una fuerte comunidad de usuarios académicos, gubernamentales y corporativos. Se utiliza en áreas tan diversas como la biomedicina, el comercio electrónico, la predicción metereológica o el modelado organizacional.

Protégé se instala como una aplicación de escritorio multiplataforma y tiene una arquitectura basada en \textit{plugins} o complementos que permite extender fácilmente su funcionalidad. Tiene soporte para razonadores sobre las distintas ontologías que se modelan y facilidades de representación y edición de grafos RDF.

De cara a un primer encuentro con las tecnologías de la Web Semántica, puede parecer abrumador por su gran flexibilidad y potencia. Además, no cuenta con facilidades de consulta sobre los grafos modelados.

\begin{figure}[h]
	\centering
	\includegraphics[scale=0.25]{protege}
	\caption{Interfaz de Protégé}
\end{figure}


\section{Estado actual} \label{estadoactual}

El estado actual (o \textit{state of the art}, del inglés) de las tecnologías de la Web Semántica alcanza distintos niveles de madurez en sus implementaciones. Complementando el listado de herramientas ya presentado en el estudio de trabajos previos (\ref{trabajosprevios}), se analizan a continuación las plataformas o bibliotecas más representativas dentro de las tecnologías más utilizadas.

\subsection{RDF en Java}

Así, para la plataforma Java se cuenta con Apache Jena{\cite{jena01}}, un marco de trabajo o \textit{framework} \textit{opensource} para construir aplicaciones para la Web Semántica o sobre datos enlazados. De entre sus componentes y funcionalidades, cabe destacar:

\begin{itemize} 
\item \textbf{TDB}: una base de datos de tripletas nativa y de alto rendimiento, con excelente integración con el resto de APIs de Jena.
\item \textbf{ARQ}: un motor SPARQL compatible con su versión 1.1 que soporta consultas federadas y búsqueda por texto libre.
\item \textbf{API RDF}: una API principal que permite interactuar con RDF para crear y leer grafos y tripletas, así como serializarlas a los formatos más comunes (Turtle, XML, etc.).
\item \textbf{Fuseki}: un \textit{endpoint} SPARQL que permite exponer el grafo de trabajo y ofrece interacción tipo REST con tripletas RDF.
\item \textbf{Otras APIs}: como las de ontologías e inferencias, que permiten añadir más semántica al modelo y razonar sobre reglas por defecto o personalizadas.
\end{itemize}  

Apache Jena es una solución robusta y muy utilizada en entornos académicos y de producción empresarial con más de quince años de vida.

\subsection{RDF en Python}

RDFLib\footnote{https://github.com/RDFLib/rdflib} es una biblioteca \textit{opensource} ligera pero funcionalmente completa para trabajar con RDF desde plataformas Python. Permite a las aplicaciones acceder a estructuras RDF a través de construcciones idiomáticas en Python, lo que facilita un acercamiento de la tecnología al programador experimentado; por ejemplo, un grafo no es más que una colección de tripletas \textit{<sujeto, predicado, objeto>}. Entre el resto de sus características, destacan:

\begin{itemize}
	\item Contiene procesadores y serializadores para XML, N3, Turtle, RDFa, etc.
	\item Presenta una interfaz para un grafo que puede soportarse sobre multitud de implementaciones de almacenes.
	\item Incluye una implementación de SPARQL v1.1.
	\item Presenta una arquitectura modular basada en \textit{plugins} o complementos.
\end{itemize} 

Su desarrollo es estable y ha sido utilizada en referencias bibliográficas como \textit{Programming the Semantic Web}\cite{evanstaylor01}, de\textit{ O'Reilly}.

\subsection{RDF en Javascript}

Dado que uno de los objetivos del proyecto es reducir al máximo los requisitos de uso de la herramienta para alcanzar el mayor público objetivo posible (ver \ref{objetivos}), \textbf{Javascript se presenta como una tecnología de sumo interés para la implementación del mismo}, ya que permite producir aplicaciones ejecutables al cien por cien en un navegador web estándar.

Sin embargo, el \textbf{estado actual de implementación de RDF en Javascript puede calificarse de inmaduro y e inestable}. Se han llevado a cabo intentos aislados de construir APIs RDF y herramientas para gestión de grafos y consultas SPARQL, como las citadas en la sección \ref{trabajosprevios}, pero no existe un estándar único consolidado (aún).

\subsubsection{Manejo de RDF}

En el W3C puede consultarse la mejor comparativa existente de bibliotecas desarrolladas en Javascript para trabajar con RDF\cite{rdfjscomparison}.

Sin duda, el esfuerzo más destacable hasta ahora para conseguir un estándar de RDF en Javascript es el proyecto \textbf{rdflib.js}\footnote{https://github.com/linkeddata/rdflib.js}, iniciado por el mismísimo Tim Berners-Lee. Se trata de una biblioteca que proporciona una API local para lanzar consultas a un almacén RDF, soporta parte de la especificación SPARQL y permite importar y escribir formatos como RDF/XML, Turtle y N3. 

En el propio repositorio de rdflib.js se cita al \textit{ RDFJS Representation Task Force}\footnote{https://github.com/rdfjs/representation-task-force}, un grupo dentro del \textit{RDFJS Community Group}\footnote{https://www.w3.org/community/rdfjs/} encargado de diseñar las especificaciones de interfaz con el objetivo de conseguir que las distintas implementaciones de conceptos RDF en Javascript sean interoperables. La especificación de la interfaz existe en forma de borrador a fecha de 14 de Agosto de 2017\footnote{http://rdf.js.org/}. En ella se definen interfaces para términos, cuaternas, factorías de datos, nodos en blanco, literales, etc. así como para \textit{streams} de Javascript.

Consultando el sitio web del \textit{Community Group} se puede encontrar una noticia del 23 de Abril de 2018 (publicada, por tanto, en pleno desarrollo de este proyecto) anunciando la creación de RDF.js, que tratará de unir los esfuerzos de distintas entidades (como la Universidad de Gante o el MIT) y alinear y publicar bajo un único paraguas proyectos como:

\begin{itemize}
	\item El citado rdflib.js
	\item \textbf{RDF-Ext}\footnote{https://github.com/rdf-ext/rdf-ext}, una biblioteca Javascript para trabajar con RDF y datos enlazados que cumple con la especificación del \textit{RDFJS Representation Task Force}.
	\item \textbf{N3.js}\footnote{https://github.com/rdfjs/N3.js}, una biblioteca que implementa la especificación de bajo nivel RDF.js y permite leer, procesar, almacenar y exportar ternas RDF de forma asíncrona en Javascript.
\end{itemize} 

Ante esta situación confusa y repleta de distintas implementaciones, se optó por utilizar canales de comunicación directos con sus autores. Existen varios grupos de discusión en Gitter, tales como:

\begin{itemize}
	\item rdfjs/public\footnote{https://gitter.im/rdfjs/public}
	\item rdf-ext/discussions\footnote{https://gitter.im/rdf-ext/discussions}
\end{itemize} 

En ellos, el autor del proyecto tuvo la oportunidad de recibir indicaciones directamente de Thomas Bergwinkl y Michael Luggen, importantes miembros del grupo, quienes confirmaron que RDF-Ext es el camino a seguir en caso de tener que desarrollar un proyecto en Javascript que trabaje con RDF. Luggen también indicó que rdflib.js es la biblioteca más antigua de las citadas, iniciada por el propio Tim Berners-Lee (que, como se puede comprobar en la figura \ref{fig:gitter01}, aparece también en el grupo de conversación.)

\begin{figure}[h] 
	\centering
	\includegraphics[scale=0.25]{gitter01}
	\caption{Charla con miembros del W3C RDFJS Community Group} \label{fig:gitter01}
\end{figure}


\subsubsection{Manejo de SPARQL}

Como se ha visto en la subsección anterior, la situación actual de la implementación de RDF en Javascript es compleja. Con SPARQL, esta línea se mantiene.

El primer trabajo desarrollado en esta línea es \textbf{rdfstore-js}, de Antonio Garrote\footnote{https://github.com/antoniogarrote/rdfstore-js}, que consiste en una implementación pura en Javascript de un almacén de grafos RDF con soporte para el lenguaje de consulta y manipulación de datos SPARQL.

Lamentablemente, tal y como indica el propio autor, la implementación actual está lejos de estar completa. Por otra parte, revisando el repositorio, se puede comprobar que la última actualización del código fuente es de hace dos años. Existe un grupo de gitter sobre el proyecto, pero carente de actividad. Por tanto, no es descabellado asegurar que la biblioteca está obsoleta y ha sido discontinuada, lo que hace inviable su inclusión en el proyecto.

Por otro lado, Ruben Taelman, miembro del grupo de discusión en Gitter sobre RDF-Ext, lidera otro proyecto, Comunica\footnote{https://github.com/comunica/comunica}: una plataforma de motores de consulta altamente modular y flexible para la web. Esta plataforma permite enviar consultas a distintos motores, entre ellos SPARQL. Entre sus características se encuentra la capacidad para lanzar consultas SPARQL 1.1 a endpoints externos y también a un almacén local en Javascript, lo que lo hace ideal para un proyecto como el que se trata en esta memoria.

No obstante, es un producto en pleno desarrollo  en el que muchos de sus módulos aún no han sido publicados en una versión estable y, por tanto, \textbf{inestable y con defectos potenciales}.

\subsection{Tecnologías de frontend web}

La interfaz de usuario será una parte muy importante del proyecto, que pretende facilitar el aprendizaje de RDF y SPARQL a alumnos sin experiencia. Ello, unido a la necesidad de facilitar lo máximo posible la puesta en marcha de la herramienta, hace que las tecnologías de \textit{frontend} web cobren un papel especialmente relevante en este análisis.

El mundo del \textit{frontend} web ha cambiado mucho en los últimos años, y de hecho, la comunidad de desarrolladores aún se encuentra inmersa en una vorágine de cambios cuya velocidad es, en la mayor parte de los casos, infinitamente mayor que la capacidad de los proyectos y los propios desarrolladores para asimilarla.

Atrás quedaron los días de servir interfaces de usuario en el servidor a través de JSP\footnote{Java Server Pages, tecnología para crear páginas web dinámicas en servidor en Java} o JSF\footnote{Java Server Faces, tecnología que simplifica el desarrollo de interfaces de usuario en aplicaciones Java EE} y de esas tímidas incursiones de Javascript en la capa de presentación a través de bibliotecas como JQuery\footnote{https://jquery.com/} o Ext Js\footnote{https://www.sencha.com/products/extjs/\#overview}.

En estos momentos, son tres los frameworks que aglutinan la mayor parte del desarrollo de frontend web:

\begin{itemize}
	\item \textbf{Angular}
	\item \textbf{React}
	\item \textbf{Vue}
\end{itemize} 

En las siguientes subsecciones se analizan someramente.

\subsubsection{Angular}

Angular es un framework basado en Typescript y creado por Google en 2009, pensado para la construcción de aplicaciones web altamente interactivas. Entre sus características se encuentran las siguientes:

\begin{itemize}
	\item Orientado a componentes\footnote{Un componente es una unidad de encapsulación de código y responsabilidades que facilita la reutilización}.
	\item Uso de Typescript.
	\item Sistema de plantillas en HTML con directivas.
	\item Basado en el patrón MVC\footnote{Modelo, Vista, Controlador.}.
	\item Incluye inyección de dependencias\footnote{Patrón en el cual un objeto (servicio) proporciona las dependencias necesarias a otro objeto (cliente)}.
	\item Varias opciones para la gestión de estado.
	\item Curva de aprendizaje pronunciada.
	\item Tamaño pesado.
	\item Publicado bajo licencia MIT.
\end{itemize}

\subsubsection{React}

React es una biblioteca Javascript para construir interfaces de usuario desarrollada y mantenida por Facebook desde 2013.

\begin{itemize}
	\item Orientado a componentes.
	\item Uso de Javascript ES6.
	\item Sistema de plantillas en JSX.
	\item Basado en el patrón MVC.
	\item Virtual DOM: permite organizar documentos HTML en un árbol más sencillo de procesar por un navegador web.
	\item Gestión de estado con Redux.
	\item Curva de aprendizaje pronunciada.
	\item Tamaño medio.
	\item Publicado bajo licencia MIT.
\end{itemize}

\subsubsection{Vue}

Vue es uno de los frameworks que más rápidamente está creciendo en popularidad y uso desde 2014. Su primera versión fue publicada por un antiguo trabajador de Google, Evan You.

\begin{itemize}
	\item Orientado a componentes.
	\item Uso de Javascript ES5/ES6.
	\item Sistema de plantillas en HTML con directivas.
	\item \textit{Single File Components}, con separación de responsabilidades.
	\item Basado en el patrón MVVM\footnote{Modelo, Vista, Vista-Modelo, que facilita la separación del desarrollo de la interfaz de usuario de la lógica de negocio o \textit{backend}}.
	\item Virtual DOM.
	\item Gestión de estado con Vuex.
	\item Curva de aprendizaje suave.
	\item Tamaño ligero.
	\item Publicado bajo licencia MIT.
\end{itemize}

\subsubsection{Comparativa de frameworks}

Tras un análisis de las características de los tres frameworks, se puede comprobar que técnicamente no hay grandes diferencias en cuanto a funcionalidad provista o patrones empleados, pero sí en cuanto a diseño y facilidad de uso. Angular es pesado y complejo, React es el más demandado laboralmente (ver \ref{fig:techmagic}) pero su curva de aprendizaje es pronunciada y Vue es el framework más ligero y sencillo de usar y aprender, siendo recomendado para proyectos con equipos pequeños o unipersonales. 

En cuanto a popularidad según el número de estrellas en Github (tabla \ref{tab:fwgithub}), se puede concluir que React y Vue son los más populares, quedando Angular bastante por detrás.

\begin{center}
	\begin{table}[htb]
		\centering
		\begin{tabular}{p{5cm}rp{5cm}}
			\toprule
			Framework & Nº de estrellas en Github  \\ \midrule
			Angular & 40 133  \\ \midrule
			React & 110 129  \\ \midrule
			Vue & 112 650  \\ 
			\bottomrule
		\end{tabular}
		\caption{Estrellas en Github de los principales frameworks Javascript en Septiembre de 2018}
		\label{tab:fwgithub}
	\end{table}
\end{center}

Por otra parte, a la vista una encuesta de stateofjs.com en 2017 (ver figura \ref{fig:stateofjs}) sobre una muestra de más de 28.000 desarrolladores de todo el mundo, si bien React es el jugador dominante, Vue está haciendo grandes progresos en detrimento de Angular, lo que podría suponer un desafío para el liderazgo de React en 2018 y años posteriores.


\begin{figure}[h] 
	\centering
	\includegraphics[scale=0.75]{awarenessjs}
	\caption{Encuesta sobre el estado de Javascript en 2017 por stateofjs.com\cite{}} 
	\label{fig:stateofjs}
\end{figure}


\begin{figure}[h] 
	\centering
	\includegraphics[scale=0.3]{jsfwshare}
	\caption{Ofertas de trabajo por \textit{framework} JS según Medium.com a través de Indeed.com\cite{techmagic01}} \label{fig:techmagic}
\end{figure}

Cabe destacar en esta memoria que Vue fue propuesto como alternativa para el desarrollo del proyecto por los miembros del \textit{W3C RDFJS Community Group}, como puede comprobarse en la figura \ref{fig:gitter02}.

\begin{figure}[h] 
	\centering
	\includegraphics[scale=0.25]{gitter02}
	\caption{Recomendación de Vue en la charla con miembros del W3C RDFJS Community Group} \label{fig:gitter02}
\end{figure}






\section{Recursos}

Una vez analizados los trabajos previos existentes en \ref{trabajosprevios} y la situación actual en \ref{estadoactual}, se discute en esta sección qué recursos que serán necesarios para el desarrollo del proyecto.


\begin{itemize}
	\item En primer lugar, será necesario utilizar un sistema de control de versiones para el código desarrollado. Actualmente, el más utilizado es \textit{git}, y la plataforma con mayor número de desarrolladores, \textit{Github} (28 millones, según la propia Github\footnote{https://github.com/search?q=type:user\&type=Users}). Una cuenta gratuita bastará para alojar el código fuente y la documentación del proyecto, si bien \textit{Github} ofrece cuentas privadas con duración limitada para estudiantes universitarios.
	\item Para llevar a cabo la planificación y evolución diaria de las tareas, se utilizará un plan gratuito de \textit{Trello} (lo cual se detalla en profundidad en la subsección \ref{subsec:agileplanning})
	\item A la vista de los objetivos del proyecto, Javascript ES6 parece la tecnología más adecuada para su desarrollo. Dada la inexperiencia del autor en esta tecnología, se proponen las siguientes referencias bibliográficas y de formación \textit{online}:
	 \begin{itemize}
	 	\item \textit{Get Programming With Javascript Next}, JD Isaacks\cite{isaacks01}.
	 	\item Curso en la plataforma Udemy\footnote{https://www.udemy.com}: \textit{ES6 Javascript: The Complete Developer's Guide}, Stephen Grider\cite{grider01}.
	 	\item Curso en la plataforma Udemy: Working with Javascript Streams\cite{stoneriver01}.
	 \end{itemize}
	\item Analizadas las distintas implementaciones de RDF y SPARQL en Javascript y, siguiendo las recomendaciones del W3C RDFJS Community Group, se propone el uso inicial de los siguientes recursos:
		 \begin{itemize}
		\item RDF-Ext como biblioteca para trabajar con la API de RDF, siguiendo los estándares existentes.
		\item Comunica para las consultas SPARQL, dado que aún con los riesgos inherentes que conlleva la utilización de un producto aún en desarrollo, es la única plataforma que puede responder a las necesidades del proyecto.
	\end{itemize}
	\item Tras el estudio de la situación actual de los framerworks de front-end Javascript y, teniendo en cuenta asimismo las recomendaciones del\textit{ W3C RDFJS Community Group}, se opta por Vue para el proyecto dada su gran proyección y su curva de aprendizaje suave. En concreto, se propone utilizar los siguientes recursos:
	 \begin{itemize}
		\item Curso en la plataforma Udemy:\textit{ Vue JS 2 - The Complete Guide}, Maximilian Schwarzmüller\cite{max01}, un referente en la comunidad de desarrolladores de Vue.
		\item Curso en la plataforma Udemy:\textit{ The Ultimate Vue JS 2 Developers Course}, Anthony Gore\cite{gore01}. Otro referente importante.
		\item \textit{Vue.js Design Patterns and Best Practices}, Paul Halliday\cite{halliday01}.
	\end{itemize}
	\item Como entorno de desarrollo, el autor de este proyecto ya contaba con una licencia de estudiante de WebStorm de Jetbrains\footnote{https://www.jetbrains.com/webstorm/}, uno de los entornos integrados de desarrollo (IDE) más completos y modernos para Javascript existentes en la actualidad. Soporta Javascript de forma nativa, depuración con el navegador y frameworks como Vue, React o Angular, además de facilidades de pruebas unitarias, análisis estático de código, análisis de rendimiento, etc.

\end{itemize}


