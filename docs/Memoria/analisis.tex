\chapter{Análisis}

La captura de requisitos es quizá una de las labores más complicadas a la hora de desarrollar un sistema de información, debido a las ``diferencias de impedancia'' existentes entre un analista y un usuario de negocio. En el caso particular de este proyecto, el hecho de que el usuario fuera a su vez el Director del mismo ha supuesto una ayuda considerable. No obstante, a continuación se detallan las estrategias que supusieron una mejora considerable en los niveles de concreción del alcance a delimitar.

\section{Captura y documentación de requisitos}

\subsection{Captura de requisitos}

La técnica de captura de requisitos utilizada para este proyecto ha sido, fundamentalmente, \textbf{la entrevista} con el tutor. Se eligió esta técnica por los siguientes motivos:

\begin{itemize}  
	\item Las entrevistas, bien a distancia o presenciales (y especialmente estas últimas), permiten una mayor implicación del usuario en la captura de requisitos.
	\item Combinada con una maqueta o prueba de concepto, una entrevista presencial puede dar lugar a la aparición de nuevos requisitos de producto, cambios en las especificaciones e incluso en el enfoque y objetivos del mismo.
	\item Permite la práctica de la escucha activa y la sugerencia de ideas por parte del analista, aportando un valor añadido que enriquece la simple captura de requisitos.
	\item Es claramente la técnica más obvia, directa y accesible en el contexto de la realización del proyecto.
\end{itemize}

Concretamente, se han llevado a cabo varias entrevistas utilizando la plataforma colaborativa Skype y una presencial, en la que el autor de este proyecto se ha desplazado a la sede del departamento en Madrid con objeto de conseguir una comunicación más fluida y un mayor entendimiento a la hora de consensuar las necesidades y funcionalidades requeridas del producto.

La primera entrevista a distancia propició un intercambio de documentos e ideas que desembocó en la elaboración del documento del anteproyecto. El resto de entrevistas a través de Skype sirvieron para concretar en mayor medida las tareas a realizar y el enfoque del proyecto. Sin embargo, no fue hasta que no tuvo lugar la reunión presencial cuando realmente se le dio al proyecto su orientación final, con unos objetivos claramente definidos y una posibilidad para cumplir los hitos propuestos.

A continuación se resumen todas las sesiones de captura de requisitos:

\vspace*{\baselineskip}
\begin{center}
\begin{table}[htb]
\centering
\begin{tabular}{p{1cm}p{2cm}p{10cm}}
	\toprule
	id & Fecha & Resumen de la entrevista \\
	\toprule
	1 & 18/10/17 & Primer contacto y comunicación de ideas iniciales para la confección del anteproyecto  \\ \midrule
	2 & 21/02/17 & Consolidación de ideas y aportación de más documentación (vídeos sobre prototipos de cuaderno, documentos de texto con descripciones, etc.)  \\
	3 & 28/03/18 & Primera demo a modo de POC con un entorno capaz de añadir tripletas.  \\ \midrule
	4 & 10/07/18 & Reunión presencial con demostración \textit{in-situ} de los módulos de modelado e importación/exportación. Tiene lugar una tormenta de ideas y se enfoca el proyecto de otro modo, modificando sus objetivos hacia una herramienta formativa..  \\ \midrule
	5 & 4/08/18 & Revisión de los últimos avances con la integración de un endpoint SPARQL en el frontend y planificación del resto de funcionalidade requeridas.  \\ 
	\bottomrule
\end{tabular}
\caption{Sesiones de entrevistas}
\label{tabmeetings}
\end{table}
\end{center}

\subsection{Documentación}

Para documentar la captura de requisitos, se utilizará la técnica de casos de uso. Se descarta la incorporación de diagramas UML de casos de uso, dado que dichos diagramas carecen de información esencial sobre los mismos (como qué actor lleva a cabo cada paso, o notas sobre el orden de ejecución de los pasos). Si bien pueden ser útiles como resumen o índice de contenidos, se decide prescindir de ellos dado que el número de casos de uso contemplados en el proyecto es manejable.

Se utilizará una plantilla propuesta por Cockburn{\cite{cockburn01}}: el estilo RUP (\textit{Rational Unified Process}){\cite{rational01}}, atractivo y fácil de seguir pese al elevado número de apartados, modificado para plasmar los aspectos más relevantes del proyecto (por ejemplo, no se incluirá un campo \textit{ámbito} porque siempre va a estar referido al mismo sistema o aplicación). El motivo de no utilizar una tabla es meramente subjetivo, ya que el autor de esta memoria opina que puede oscurecer el contenido.

La plantilla sigue la siguiente estructura:

\begin{enumerate}  
	\item Nombre del caso de uso
	\begin{enumerate}
		\item Descripción breve
		\item Actores, entre los que estará el actor principal. Presentan comportamiento.
		\item Disparadores: acciones sobre el sistema que inician los casos de uso.
	\end{enumerate}
	\item Flujo de eventos
		\begin{enumerate}
		\item Flujo básico: escenario principal de éxito.
		\item Flujos alternativos: qué puede pasar que no sea el flujo principal.
			\begin{enumerate}
			\item Condicion 1
			\item Condición 2
			\item \ldots
		\end{enumerate}
	\end{enumerate}
	\item Requisitos especiales (si se dieran): plataforma, etc.
	\item Precondiciones: qué debe ser cierto antes de ejecutar el caso de uso.
	\item Postcondiciones: qué debe ser cierto después de ejecutar el caso de uso.
\end{enumerate}

Los requisitos fueron capturados inicialmente como notas manuscritas y convertidos en necesidades de alto nivel en la plataforma Trello. A partir de ahí, dichas necesidades se refinaron para dar lugar a la batería de casos de uso incluida en \ref{sec:53}.

\section{Necesidades}

La reunión presencial marcó un punto de inflexión en cuanto a objetivos del proyecto, lo que se traduce en un cambio de necesidades. Para reflejar la evolución completa, se dividirá su captura en dos fases detalladas a continuación:

\subsection{Captura inicial}

A continuación se resumen, en lenguaje natural, las necesidades identificadas durante la primera fase de desarrollo del proyecto:
\begin{enumerate}
\item Permitir a usuarios de la UNED  de distintos colectivos etiquetar y generar sus propios cuadernos con información y metainformación semántica.
\item Permitir a dichos usuarios realizar consultas sobre sus cuadernos.
\item Desarrollar una interfaz web que permita al usuario gestionar tripletas RDF.
\item Desarrollar un módulo de generación de consultas SPARQL a partir de consultas de lectura y escritura en formato JSON.
\item Desarrollar los correspondientes productos de interés para el usuario: consultas exportadas en forma diversa (CSV, JSON) o embebidas en una plantilla HTML significativa para el usuario.
\item Ofrecer la posibilidad de variar interfaces de entrada y exportadores en función de los distintos colectivos de usuario utilizando los metadatos sobre cuadernos RDF previamente almacenados en una base de datos relacional.
\item Permitir mostrar en pantalla una serie de términos como punto de partida que el usuario pueda utilizar para construir ternas RDF y relaciones entre ellas.
\item Permitir mostrar en pantalla una serie de términos como punto de partida que el usuario pueda utilizar para construir ternas RDF y relaciones entre ellas.
\item Ofrecer al usuario una visualización sencilla y correcta de su modelo que proporciona una perspectiva adecuada sobre la que trabajar.
\item Presentar una interfaz de mantenimiento del grafo: vocabulario e instancias (conceptualización y poblamiento de una ontología).
\item Importar y exportar información estructurada en formatos semánticos estándar.
\item Extender con vocabularios tales como SKOS y OWL. 
\end{enumerate}

\subsection{Captura final}

Una vez celebrada la reunión presencial, se decidió darle otro enfoque al proyecto. Si bien la idea inicial era desarrollar un sistema que permitiese generar cuadernos a través de la manipulación de grafos, una vez presentada una maqueta o prueba de concepto con funcionalidades básicas de modelado el tutor propuso convertir la herramienta en un \textit{playground} o sistema de realización de actividades académicas con un enfoque docente orientado a facilitar el aprendizaje de las tecnologías de la Web Semántica (básicamente RDF y SPARQL) a personas con poco o ningún contacto con estas materias (por ejemplo, alumnos de los Grados de Ingeniería Informática o en Tecnologías de la Información de la UNED).

Este nuevo enfoque se tradujo en la siguiente instantánea de necesidades de alto nivel:

\begin{enumerate}
\item Permitir el modelado semántico con edición CRUD de clases, subclases y propiedades de clases (anotaciones básicas).
\item Permitir la edición CRUD de relaciones o propiedades, subpropiedades, etc.
\item Ofrecer mecanismos de poblamiento del grafo.
\item Permitir el lanzamiento de consultas SPARQL sobre el grafo local y visualización de resultados.
\item Permitir el lanzamiento de consultas SPARQL sobre endpoints remotos y visualización de resultados.
\item Ofrecer funcionalidad de carga de consultas SPARQL predefinidas desde archivo de texto.
\item Incorporar módulo para añadir un texto con la definición de la actividad a realizar en formato Markdown.
\item Permitir la importación de tripletas desde archivos o URL.
\item Permitir la incorporación (append) de tripletas al grafo local desde archivos o URL.
\item Ofrecer un panel para cargar en el grafo vocabularios comunes predefinidos.
\item Presentar una interfaz fácil de usar y responsiva para el usuario, con una gestión de errores adecuada y suficiente.
\end{enumerate}

\section{Casos de uso} \label{sec:53}

\subsection{Dar de alta una nueva clase}\label{sec:dar-de-alta-una-nueva-clase}

\subsubsection{Descripción breve}

Este caso de uso permite a un usuario añadir una nueva clase a su grafo a través de una tripleta que tendrá como sujeto el nombre de la clase, como objeto el recurso owl:Class y como predicado el recurso rdf:type. 

\subsubsection{Actores}

El actor principal es el usuario de la aplicación (fundamentalmente dirigida a un alumno, pero podría ser un profesor o cualquier otro usuario).

\subsubsection{Disparadores}

El caso de usa comienza cuando el usuario pulsa en el botón flotante + asociado a la tarjeta del listado de clases.

\subsubsection{Flujo de eventos}
\begin{enumerate}
	\item Flujo básico
	\begin{enumerate}
		\item El usuario pulsa en el botón flotante + asociado a la tarjeta del listado de clases.
		\item Aparece un cuadro de diálogo donde el usuario debe introducir el nombre de la clase.
		\item El usuario introduce el URI del recurso que quiere dar de alta como clase y pulsa en guardar.
		\item El nuevo recurso de tipo clase se crea y aparece en el listado de clases.
	\end{enumerate}
	\item Flujo alternativo 1
\begin{enumerate}
	\item El usuario pulsa en el botón flotante + asociado a la tarjeta del listado de clases.
	\item Aparece un cuadro de diálogo donde el usuario debe introducir el nombre de la clase.
	\item El usuario introduce (o no) el URI del recurso que quiere dar de alta como clase y pulsa fuera del cuadro de diálogo.
	\item El cuadro de diálogo se cierra y no hay ningún cambio en los recursos.
\end{enumerate}
	\item Flujo alternativo 2
	\begin{enumerate}
		\item El usuario pulsa en el botón flotante + asociado a la tarjeta del listado de clases.
		\item Aparece un cuadro de diálogo donde el usuario debe introducir el nombre de la clase.
		\item El usuario introduce el URI del recurso que quiere dar de alta como clase y pulsa en guardar.
		\item Ocurre un error en el guardado del recurso que le es comunicado al usuario a través de una notificación en pantalla.
	\end{enumerate}

\end{enumerate}

\subsubsection{Requisitos especiales}

Ninguno.

\subsubsection{Precondiciones}

El usuario debe haber navegado previamente hasta la sección de modelado, bien a través de la pantalla de bienvenida, bien a través de la barra de navegación lateral.

\subsubsection{Postcondiciones}

Ninguna.

\subsubsection{Extensiones}

Ninguna.

\subsection{Editar una clase existente}\label{sec:editar-una-clase-existente}

\subsubsection{Descripción breve}

Este caso de uso permite a un usuario editar el recurso asociado a una clase existente en su grafo y cambiar su URI.

\subsubsection{Actores}

El actor principal es el usuario de la aplicación (fundamentalmente dirigida a un alumno, pero podría ser un profesor o cualquier otro usuario).

\subsubsection{Disparadores}

El caso de usa comienza cuando el usuario pulsa en el icono de menú asociado a la clase que quiere editar y selecciona la acción ``Editar''.

\subsubsection{Flujo de eventos}
\begin{enumerate}
	\item Flujo básico
	\begin{enumerate}
		\item El usuario pulsa en el icono de menú asociado a la clase que quiere editar y selecciona la acción ``Editar''.
		\item Aparece un cuadro de diálogo con el URI del recurso actual que el usuario puede modificar.
		\item El usuario modifica (o no) el URI del recurso  y pulsa en guardar.
		\item El recurso ha sido modificado y su cambio se ve reflejado en el listado.
	\end{enumerate}
\item Flujo alternativo 1
\begin{enumerate}
	\item El usuario pulsa en el icono de menú asociado a la clase que quiere editar y selecciona la acción ``Editar''.
	\item Aparece un cuadro de diálogo con el URI del recurso actual que el usuario puede modificar.
	\item El usuario modifica (o no) el URI del recurso  y pulsa fuera del cuadro de diálogo.
	\item El cuadro de diálogo se cierra y no hay ningún cambio en los recursos.
\end{enumerate}
	\item Flujo alternativo 2
	\begin{enumerate}
		\item El usuario pulsa en el icono de menú asociado a la clase que quiere editar y selecciona la acción ``Editar''.
		\item Aparece un cuadro de diálogo con el URI del recurso actual que el usuario puede modificar.
		\item El usuario modifica (o no) el URI del recurso  y pulsa en guardar.
		\item Ocurre un error en el guardado del recurso que le es comunicado al usuario a través de una notificación en pantalla.
	\end{enumerate}
	
\end{enumerate}

\subsubsection{Requisitos especiales}

Ninguno.

\subsubsection{Precondiciones}

El usuario debe haber navegado previamente hasta la sección de modelado, bien a través de la pantalla de bienvenida, bien a través de la barra de navegación lateral.

\subsubsection{Postcondiciones}

Ninguna.

\subsubsection{Extensiones}

Ninguna.

\subsection{Eliminar una clase existente}\label{sec:eliminar-una-clase-existente}

\subsubsection{Descripción breve}

Este caso de uso permite a un usuario eliminar el recurso asociado a una clase existente en su grafo.

\subsubsection{Actores}

El actor principal es el usuario de la aplicación (fundamentalmente dirigida a un alumno, pero podría ser un profesor o cualquier otro usuario).

\subsubsection{Disparadores}

El caso de usa comienza cuando el usuario pulsa en el icono de menú asociado a la clase que quiere editar y selecciona la acción ``Eliminar''.

\subsubsection{Flujo de eventos}
\begin{enumerate}
	\item Flujo básico
	\begin{enumerate}
		\item El usuario pulsa en el icono de menú asociado a la clase que quiere editar y selecciona la acción ``Eliminar''.
		\item Aparece un cuadro de diálogo advirtiendo al usuario de que si confirma el cambio, no podrá volver a recuperar el recurso del grafo.
		\item El usuario elige confirmar.
		\item El recurso y su detalle asociado desaparecen del listado.
	\end{enumerate}
\item Flujo alternativo 1
\begin{enumerate}
	\item El usuario pulsa en el icono de menú asociado a la clase que quiere editar y selecciona la acción ``Eliminar''.
	\item Aparece un cuadro de diálogo advirtiendo al usuario de que si confirma el cambio, no podrá volver a recuperar el recurso del grafo.
	\item El usuario pulsa fuera del cuadro de diálogo.
	\item El cuadro de diálogo se cierra y no hay ningún cambio en los recursos.
\end{enumerate}
	\item Flujo alternativo 2
	\begin{enumerate}
		\item El usuario pulsa en el icono de menú asociado a la clase que quiere editar y selecciona la acción ``Eliminar''.
	\item Aparece un cuadro de diálogo advirtiendo al usuario de que si confirma el cambio, no podrá volver a recuperar el recurso del grafo.
	\item El usuario elige cancelar.
	\item El recurso y su detalle siguen apareciendo y no son eliminados.
	\end{enumerate}
	\item Flujo alternativo 3
\begin{enumerate}
	\item El usuario pulsa en el icono de menú asociado a la clase que quiere editar y selecciona la acción ``Eliminar''.
	\item Aparece un cuadro de diálogo advirtiendo al usuario de que si confirma el cambio, no podrá volver a recuperar el recurso del grafo.
	\item El usuario elige confirmar.
	\item  Ocurre un error en el borrado del recurso que le es comunicado al usuario a través de una notificación en pantalla.
\end{enumerate}
	
\end{enumerate}

\subsubsection{Requisitos especiales}

Ninguno.

\subsubsection{Precondiciones}

El usuario debe haber navegado previamente hasta la sección de modelado, bien a través de la pantalla de bienvenida, bien a través de la barra de navegación lateral.

\subsubsection{Postcondiciones}

Una vez eliminada un recurso de tipo clase, se eliminan también todas las tripletas que lo tengan como objeto o como sujeto (es decir, cualquier relación con dicha clase).

\subsubsection{Extensiones}

Ninguna.

\subsection{Dar de alta una nueva anotación o propiedad estándar de una clase}\label{sec:dar-de-alta-una-nueva-anotacion-o-propiedad-estandar-de-una-clase}

\subsubsection{Descripción breve}

Este caso de uso permite a un usuario añadir una nueva propiedad de una clase a su grafo. Tan sólo se podrán añadir propiedades entre las previamente configuradas en el código fuente de la aplicación (es decir, han de fijarse de manera previa, si bien su extensión es sencilla). La configuración por defecto ofrece una lista de las propiedades más utilizadas.

\subsubsection{Actores}

El actor principal es el usuario de la aplicación (fundamentalmente dirigida a un alumno, pero podría ser un profesor o cualquier otro usuario).

\subsubsection{Disparadores}

El caso de usa comienza cuando el usuario pulsa en el signo + asociado al nombre de la propiedad a la que quiere dar un valor.

\subsubsection{Flujo de eventos}
\begin{enumerate}
	\item Flujo básico
	\begin{enumerate}
		\item El usuario pulsa en el botón flotante + asociado a la tarjeta del listado de clases.
		\item Aparece un cuadro de diálogo donde el usuario debe introducir el nombre de la clase.
		\item El usuario introduce el URI del recurso que quiere dar de alta como clase y pulsa en guardar.
		\item El nuevo recurso de tipo clase se crea y aparece en el listado de clases.
	\end{enumerate}
	\item Flujo alternativo 1
	\begin{enumerate}
		\item El usuario pulsa en el botón flotante + asociado a la tarjeta del listado de clases.
		\item Aparece un cuadro de diálogo donde el usuario debe introducir el nombre de la clase.
		\item El usuario introduce (o no) el URI del recurso que quiere dar de alta como clase y pulsa fuera del cuadro de diálogo.
		\item El cuadro de diálogo se cierra y no hay ningún cambio en los recursos.
	\end{enumerate}
	\item Flujo alternativo 2
	\begin{enumerate}
		\item El usuario pulsa en el botón flotante + asociado a la tarjeta del listado de clases.
		\item Aparece un cuadro de diálogo donde el usuario debe introducir el nombre de la clase.
		\item El usuario introduce el URI del recurso que quiere dar de alta como clase y pulsa en guardar.
		\item Ocurre un error en el guardado del recurso que le es comunicado al usuario a través de una notificación en pantalla.
	\end{enumerate}
	
\end{enumerate}

\subsubsection{Requisitos especiales}

Ninguno.

\subsubsection{Precondiciones}

El usuario debe haber navegado previamente hasta la sección de modelado, bien a través de la pantalla de bienvenida, bien a través de la barra de navegación lateral, y haber seleccionado previamente una clase de entre el listado de clases (en la tarjeta de la izquierda) para poder añadirle una propiedad.

\subsubsection{Postcondiciones}

Ninguna.

\subsubsection{Extensiones}

Ninguna.

\subsection{Editar una propiedad o anotación de una clase}\label{sec:editar-una-propiedad-o-anotacion-de-una-clase}

\subsubsection{Descripción breve}

Este caso de uso permite a un usuario editar el recurso asociado a una propiedad o anotación de una clase existente en su grafo y cambiar su URI. Tan sólo se podrá editar una propiedad o anotación de entre las previamente configuradas en el código fuente de la aplicación (es decir, han de fijarse de manera previa, si bien su extensión es sencilla).

\subsubsection{Actores}

El actor principal es el usuario de la aplicación (fundamentalmente dirigida a un alumno, pero podría ser un profesor o cualquier otro usuario).

\subsubsection{Disparadores}

El caso de usa comienza cuando el usuario pulsa en el icono de menú asociado a la propiedad de clase que quiere editar y selecciona la acción ``Editar''.

\subsubsection{Flujo de eventos}
\begin{enumerate}
	\item Flujo básico
\begin{enumerate}
	\item El usuario pulsa en el icono de menú asociado a la propiedad de la clase que quiere editar y selecciona la acción ``Editar''.
	\item Aparece un cuadro de diálogo con el URI del recurso actual que el usuario puede modificar.
	\item El usuario modifica (o no) el URI del recurso  y pulsa en guardar.
	\item El recurso ha sido modificado y su cambio se ve reflejado en el listado de detalle de la propiedad.
\end{enumerate}
\item Flujo alternativo 1
\begin{enumerate}
	\item El usuario pulsa en el icono de menú asociado a la propiedad de la clase que quiere editar y selecciona la acción ``Editar''.
	\item Aparece un cuadro de diálogo con el URI del recurso actual que el usuario puede modificar.
	\item El usuario modifica (o no) el URI del recurso  y pulsa fuera del cuadro de diálogo.
	\item El cuadro de diálogo se cierra y no hay ningún cambio en los recursos.
\end{enumerate}
\item Flujo alternativo 2
\begin{enumerate}
	\item El usuario pulsa en el icono de menú asociado a la propiedad de la clase que quiere editar y selecciona la acción ``Editar''.
	\item Aparece un cuadro de diálogo con el URI del recurso actual que el usuario puede modificar.
	\item El usuario modifica (o no) el URI del recurso  y pulsa en guardar.
	\item Ocurre un error en el guardado del recurso que le es comunicado al usuario a través de una notificación en pantalla.
	\end{enumerate}
	
\end{enumerate}

\subsubsection{Requisitos especiales}

Ninguno.

\subsubsection{Precondiciones}

El usuario debe haber navegado previamente hasta la sección de modelado, bien a través de la pantalla de bienvenida, bien a través de la barra de navegación lateral, y haber seleccionado previamente una clase de entre el listado de clases (en la tarjeta de la izquierda) para poder editar una de sus propiedades a través del menú.

\subsubsection{Postcondiciones}

Ninguna.

\subsubsection{Extensiones}

Ninguna.

\subsection{Eliminar una propiedad o anotación de una clase}\label{sec:eliminar-una-propiedad-o-anotacion-de-una-clase}

\subsubsection{Descripción breve}

Este caso de uso permite a un usuario eliminar el recurso asociado a una propiedad o anotación de una clase existente en su grafo. Tan sólo se podrá eliminar una propiedad o anotación de entre las previamente configuradas en el código fuente de la aplicación (es decir, han de fijarse de manera previa, si bien su extensión es sencilla).

\subsubsection{Actores}

El actor principal es el usuario de la aplicación (fundamentalmente dirigida a un alumno, pero podría ser un profesor o cualquier otro usuario).

\subsubsection{Disparadores}

El caso de usa comienza cuando el usuario pulsa en el icono de menú asociado a la propiedad de clase que quiere editar y selecciona la acción ``Eliminar''.

\subsubsection{Flujo de eventos}
\begin{enumerate}
	\item Flujo básico
	\begin{enumerate}
		\item El usuario pulsa en el icono de menú asociado a la propiedad de la clase que quiere editar y selecciona la acción ``Eliminar''.
		\item Aparece un cuadro de diálogo advirtiendo al usuario de que si confirma el cambio, no podrá volver a recuperar el recurso del grafo.
	\item El usuario pulsa fuera del cuadro de diálogo.
	\item El cuadro de diálogo se cierra y no hay ningún cambio en los recursos.
	\end{enumerate}
	\item Flujo alternativo 1
	\begin{enumerate}
		\item El usuario pulsa en el icono de menú asociado a la propiedad de la clase que quiere editar y selecciona la acción ``Eliminar''.
		\item Aparece un cuadro de diálogo advirtiendo al usuario de que si confirma el cambio, no podrá volver a recuperar el recurso del grafo.
	\item El usuario pulsa fuera del cuadro de diálogo.
	\item El cuadro de diálogo se cierra y no hay ningún cambio en los recursos.
	\end{enumerate}
	\item Flujo alternativo 2
	\begin{enumerate}
		\item El usuario pulsa en el icono de menú asociado a la propiedad de la clase que quiere editar y selecciona la acción ``Editar''.
		\item Aparece un cuadro de diálogo advirtiendo al usuario de que si confirma el cambio, no podrá volver a recuperar el recurso del grafo.
	\item El usuario elige cancelar.
	\item El recurso y su detalle siguen apareciendo y no son eliminados.
	\end{enumerate}
	\item Flujo alternativo 3
\begin{enumerate}
	\item El usuario pulsa en el icono de menú asociado a la propiedad de la clase que quiere editar y selecciona la acción ``Eliminar''.
	\item Aparece un cuadro de diálogo advirtiendo al usuario de que si confirma el cambio, no podrá volver a recuperar el recurso del grafo.
	\item El usuario elige confirmar.
	\item  Ocurre un error en el borrado del recurso que le es comunicado al usuario a través de una notificación en pantalla.
\end{enumerate}
	
\end{enumerate}

\subsubsection{Requisitos especiales}

Ninguno.

\subsubsection{Precondiciones}

El usuario debe haber navegado previamente hasta la sección de modelado, bien a través de la pantalla de bienvenida, bien a través de la barra de navegación lateral, y haber seleccionado previamente una clase de entre el listado de clases (en la tarjeta de la izquierda) para poder editar una de sus propiedades a través del menú.

\subsubsection{Postcondiciones}

Ninguna.

\subsubsection{Extensiones}

Ninguna.

\subsection{Cargar una actividad}\label{sec:cargar-una-actividad}

\subsubsection{Descripción breve}

Este caso de uso permite a un usuario cargar en la aplicación un fichero de texto en formato Markdown para su visualización. Su objetivo es presentar la actividad formativa a llevar a cabo en un formato legible y de forma persistente mientras se lleve a cabo la misma.

\subsubsection{Actores}

El actor principal es el usuario de la aplicación (fundamentalmente dirigida a un alumno, pero podría ser un profesor o cualquier otro usuario).

\subsubsection{Disparadores}

El caso de usa comienza cuando el usuario pulsa en el botón de ``Importar archivo'' presente en la tarjeta de actividad.

\subsubsection{Flujo de eventos}
\begin{enumerate}
	\item Flujo básico
	\begin{enumerate}
		\item El usuario pulsa en el botón de ``Importar archivo'' presente en la tarjeta de actividad.
		\item Aparece un cuadro de diálogo para seleccionar un archivo en formato Markdown.
		\item El usuario selecciona un archivo en formato Markdown con extensión .md para cargar.
		\item El cuadro de diálogo se cierra y aparece un mensaje informando del éxito en la carga, demás de poderse visualizar el contenido de la actividad en la tarjeta de contenido de la misma.
	\end{enumerate}
	\item Flujo alternativo 1
	\begin{enumerate}
		\item El usuario pulsa en el botón de ``Importar archivo'' presente en la tarjeta de actividad.
		\item Aparece un cuadro de diálogo para seleccionar un archivo en formato Markdown.
		\item El usuario selecciona un archivo con una extensión distinta a .md para cargar.
		\item El cuadro de diálogo se cierra y aparece un mensaje de error informando de que solo es posible cargar archivos en formato Markdown (con extensión .md).
	\end{enumerate}
	\item Flujo alternativo 2
	\begin{enumerate}
		\item El usuario pulsa en el botón de ``Importar archivo'' presente en la tarjeta de actividad.
		\item El usuario selecciona un archivo en formato Markdown con extensión .md para cargar que ocupa más del máximo permitido (500K, siendo este máximo configurable)
		\item El cuadro de diálogo se cierra y aparece un mensaje de error informando de que solo es posible cargar archivos con tamaño inferior al máximo permitido, especificando cuál es dicho máximo.
	\end{enumerate}
	
\end{enumerate}

\subsubsection{Requisitos especiales}

Ninguno.

\subsubsection{Precondiciones}

El usuario debe haber navegado previamente hasta la sección de Actividades a través de la barra de navegación lateral.

\subsubsection{Postcondiciones}

La actividad se visualizará con el formato Markdown interpretado en HTML en la tarjeta asociada al contenido de la misma.

\subsubsection{Extensiones}

Ninguna.

\subsection{Cargar un vocabulario}\label{sec:cargar-un-vocabulario}

\subsubsection{Descripción breve}

Este caso de uso permite a un usuario cargar en la aplicación los vocabularios más comunes de forma predefinida. Este conjunto de vocabularios es fácilmente extensible a través del código fuente y se carga a través de URLs externas.

\subsubsection{Actores}

El actor principal es el usuario de la aplicación (fundamentalmente dirigida a un alumno, pero podría ser un profesor o cualquier otro usuario).

\subsubsection{Disparadores}

El caso de usa comienza cuando el usuario pulsa en uno de los interruptores asociado a cualquiera de los vocabularios más utilizados ofrecidos por la aplicación, siempre y cuando dichos interruptores estén en su posición ``desactivado''.

\subsubsection{Flujo de eventos}
\begin{enumerate}
	\item Flujo básico
	\begin{enumerate}
		\item El usuario pulsa en un interruptor inactivo de un vocabulario.
		\item El interruptor pasa a estar activo y el vocabulario cargado.
	\end{enumerate}
	\item Flujo alternativo 1
	\begin{enumerate}
		\item El usuario pulsa en un interruptor inactivo de un vocabulario.
		\item Ocurre un error al recuperar o cargar el vocabulario y el interruptor vuelve a su posición de desactivado. Simultáneamente, aparece un mensaje de error.
		
	\end{enumerate}
	
\end{enumerate}

\subsubsection{Requisitos especiales}

Es necesario que haya conexión a Internet para poder descargar los vocabularios de las URLs precargadas.

\subsubsection{Precondiciones}

El usuario debe haber navegado previamente hasta la sección de Vocabularios a través de la barra de navegación lateral.

\subsubsection{Postcondiciones}

Las tripletas de los vocabularios activados estarán cargadas en el grafo junto con las del modelo.

\subsubsection{Extensiones}

Ninguna.

\subsection{Des-cargar un vocabulario}\label{sec:des-cargar-un-vocabulario}

\subsubsection{Descripción breve}

Este caso de uso permite a un usuario des-cargar en la aplicación los vocabularios que haya podido cargar previamente. 

\subsubsection{Actores}

El actor principal es el usuario de la aplicación (fundamentalmente dirigida a un alumno, pero podría ser un profesor o cualquier otro usuario).

\subsubsection{Disparadores}

El caso de usa comienza cuando el usuario pulsa en uno de los interruptores asociado a cualquiera de los vocabularios más utilizados ofrecidos por la aplicación, siempre y cuando su posición esté en ``activado''.

\subsubsection{Flujo de eventos}
\begin{enumerate}
	\item Flujo básico
	\begin{enumerate}
		\item El usuario pulsa en un interruptor activo de un vocabulario.
		\item El interruptor pasa a estar inactivo y el vocabulario des-cargado.
	\end{enumerate}
	\item Flujo alternativo 1
	\begin{enumerate}
		\item El usuario pulsa en un interruptor activo de un vocabulario.
		\item Ocurre un error al recuperar o cargar el vocabulario para su borrado del grafo y el interruptor vuelve a su posición de ``activado'', puesto que el vocabulario no se ha podido des-cargar. Simultáneamente, aparece un mensaje de error.
		
	\end{enumerate}
	
\end{enumerate}

\subsubsection{Requisitos especiales}

Es necesario que haya conexión a Internet para poder descargar los vocabularios de las URLs precargadas y así eliminarlos del grafo local.

\subsubsection{Precondiciones}

El usuario debe haber navegado previamente hasta la sección de Vocabularios a través de la barra de navegación lateral.

\subsubsection{Postcondiciones}

Las tripletas de los vocabularios desactivados ya no estarán cargadas en el grafo junto con las del modelo.

\subsubsection{Extensiones}

Ninguna.

\subsection{Poblar el grafo con una tripleta}\label{sec:poblar-el-grafo-con-una-tripleta}

\subsubsection{Descripción breve}

Este caso de uso permite a un usuario añadir una tripleta arbitraria al grafo, seleccionando su sujeto (campo libre), predicado (campo de selección que permite introducir nuevos términos) y objeto  (campo de selección que permite introducir nuevos términos).

\subsubsection{Actores}

El actor principal es el usuario de la aplicación (fundamentalmente dirigida a un alumno, pero podría ser un profesor o cualquier otro usuario).

\subsubsection{Disparadores}

El caso de usa comienza cuando el usuario comienza a rellenar los campos del formulario de poblamiento y pulsa en aceptar cuando ha terminado. 

\subsubsection{Flujo de eventos}
\begin{enumerate}
	\item Flujo básico
	\begin{enumerate}
		\item El usuario rellena los campos del formulario, bien con los selectores, bien con un texto libre.
		\item El usuario pulsa en añadir instancia.
		\item Aparece un mensaje indicando el éxito de la operación y la instancia se añade al grafo.
	\end{enumerate}
	\item Flujo alternativo 1
	\begin{enumerate}
		\item El usuario rellena los campos del formulario pero deja al menos un campo vacío (sin rellenar).
		\item El usuario pulsa en añadir instancia.
		\item Aparece un mensaje de error indicando que ningún elemento de la terna puede ser nulo.
	\end{enumerate}
	
\end{enumerate}

\subsubsection{Requisitos especiales}

Para que las opciones del selector aparezcan precargadas es necesario que, además de los recursos por defecto, se haya cargado algún tipo de modelo en el grafo.

\subsubsection{Precondiciones}

El usuario debe haber navegado previamente hasta la sección de Poblamiento a través de la barra de navegación lateral.

\subsubsection{Postcondiciones}

La terna añadida en caso de éxito puede visualizarse utilizando el módulo de consultas o, en caso de ser una terna estructural de modelado, en el módulo correspondiente.

\subsubsection{Extensiones}

Ninguna.

\subsection{Importar grafo}\label{sec:importar-grafo}

\subsubsection{Descripción breve}

Este caso de uso permite a un usuario importar un grafo completo en los formatos N3, Turtle, TriG o N-Triples. El grafo importado sustituirá al cargado por defecto en memoria por la aplicación.

\subsubsection{Actores}

El actor principal es el usuario de la aplicación (fundamentalmente dirigida a un alumno, pero podría ser un profesor o cualquier otro usuario).

\subsubsection{Disparadores}

El caso de usa comienza cuando el usuario importa un grafo desde archivo o desde URL.

\subsubsection{Flujo de eventos}
\begin{enumerate}
	\item Flujo básico
	\begin{enumerate}
		\item El usuario pulsa en importar desde archivo o rellena la URL del mismo y pulsa en el icono con forma de lupa.
		\item El usuario selecciona el archivo a importar en caso de ser importación desde archivo.
		\item Aparece un mensaje indicando el éxito de la operación y se carga el grafo en el almacén.
	\end{enumerate}
	\item Flujo alternativo 1
	\begin{enumerate}
		\item  El usuario pulsa en importar desde archivo o rellena la URL del mismo y pulsa en el icono con forma de lupa.
		\item El usuario selecciona o apunta a un archivo que supera el límite de tamaño permitido (configurable en la aplicación.)
		\item Aparece un mensaje de error indicando que no es posible cargar el grafo.
	\end{enumerate}
\item Flujo alternativo 2
\begin{enumerate}
	\item El usuario rellena la URL del mismo y pulsa en el icono con forma de lupa.
	\item La URL no está disponible o devuelve un error de descarga (por ejemplo, CORS, si el servidor no está preparado).
	\item Aparece un mensaje de error indicando que no es posible cargar el grafo.
\end{enumerate}
	
\end{enumerate}

\subsubsection{Requisitos especiales}

Para cargar archivos desde una URL externa, el servidor remoto tiene que tener correctamente configuradas las cabeceras CORS (\textit{Cross-Origin Resource Sharing})\footnote{\url{https://developer.mozilla.org/es/docs/Web/HTTP/Access_control_CORS}}

\subsubsection{Precondiciones}

El usuario debe haber navegado previamente hasta la sección de Importar/Exportar a través de la barra de navegación lateral.

\subsubsection{Postcondiciones}

Una vez cargado el grafo, este podrá visualizarse en el módulo de modelado (si tiene ternas estructurales) o en el de consulta en todo caso.

\subsubsection{Extensiones}

Ninguna.

\subsection{Añadir a grafo}\label{sec:anadir-a-grafo}

\subsubsection{Descripción breve}

Este caso de uso es una leve modificación del anterior y permite a un usuario añadir un grafo externo al ya existente en el almacén en los formatos N3, Turtle, TriG o N-Triples. El grafo importado no sustituirá al cargado por defecto en memoria por la aplicación, sino que pasará a formar parte de él.

\subsubsection{Actores}

El actor principal es el usuario de la aplicación (fundamentalmente dirigida a un alumno, pero podría ser un profesor o cualquier otro usuario).

\subsubsection{Disparadores}

El caso de usa comienza cuando el usuario añade un grafo desde archivo o desde URL.

\subsubsection{Flujo de eventos}
\begin{enumerate}
	\item Flujo básico
	\begin{enumerate}
		\item El usuario pulsa en añadir desde archivo o rellena la URL del mismo y pulsa en el icono con forma de lupa.
		\item El usuario selecciona el archivo a añadir en caso de ser importación desde archivo.
		\item Aparece un mensaje indicando el éxito de la operación y se añade el grafo en el almacén.
	\end{enumerate}
	\item Flujo alternativo 1
	\begin{enumerate}
		\item  El usuario pulsa en añadir a archivo o rellena la URL del mismo y pulsa en el icono con forma de lupa.
		\item El usuario selecciona o apunta a un archivo que supera el límite de tamaño permitido (configurable en la aplicación.)
		\item Aparece un mensaje de error indicando que no es posible cargar el grafo.
	\end{enumerate}
	\item Flujo alternativo 2
	\begin{enumerate}
		\item El usuario rellena la URL del mismo y pulsa en el icono con forma de lupa.
		\item La URL no está disponible o devuelve un error de descarga (por ejemplo, CORS, si el servidor no está preparado).
		\item Aparece un mensaje de error indicando que no es posible añadir el grafo.
	\end{enumerate}
	
\end{enumerate}

\subsubsection{Requisitos especiales}

Para cargar archivos desde una URL externa, el servidor remoto tiene que tener correctamente configuradas las cabeceras CORS (\textit{Cross-Origin Resource Sharing})\footnote{\url{https://developer.mozilla.org/es/docs/Web/HTTP/Access_control_CORS}}

\subsubsection{Precondiciones}

El usuario debe haber navegado previamente hasta la sección de Importar/Exportar a través de la barra de navegación lateral.

\subsubsection{Postcondiciones}

Una vez añadido el grafo, este podrá visualizarse junto con el existente previamente en el módulo de modelado (si tiene ternas estructurales) o en el de consulta en todo caso.

\subsubsection{Extensiones}

Ninguna.

\subsection{Exportar grafo}\label{sec:exportar-grafo}

\subsubsection{Descripción breve}

Este caso de uso  permite a un usuario exportar a un archivo de texto en formato Turtle o JSON-LD el grafo de trabajo.

\subsubsection{Actores}

El actor principal es el usuario de la aplicación (fundamentalmente dirigida a un alumno, pero podría ser un profesor o cualquier otro usuario).

\subsubsection{Disparadores}

El caso de usa comienza cuando el usuario pulsa en el botón de ``Exportar JSON-LD'' o ``Exportar Turtle''.

\subsubsection{Flujo de eventos}
\begin{enumerate}
	\item Flujo básico
	\begin{enumerate}
		\item El usuario pulsa en el botón de ``Exportar JSON-LD'' o ``Exportar Turtle''.
		\item El grafo se exporta y aparece un cuadro de diálogo para guardar el archivo.
	\end{enumerate}
	\item Flujo alternativo 1
	\begin{enumerate}
		\item El usuario pulsa en el botón de ``Exportar JSON-LD'' o ``Exportar Turtle''.
		\item Ocurre un error inesperado que se muestra al usuario.
	\end{enumerate}
	
\end{enumerate}

\subsubsection{Requisitos especiales}

Ninguno.

\subsubsection{Precondiciones}

Debe existir un grafo cargado en memoria.

\subsubsection{Postcondiciones}

Ninguna.

\subsubsection{Extensiones}

Ninguna.

\subsection{Lanzar consulta a grafo local}\label{sec:lanzar-consulta-a-grafo-local}

\subsubsection{Descripción breve}

Este caso de uso  permite a un usuario lanzar una consulta SPARQL al grafo local cargado en memoria, bien desde un archivo con extensión ``rq'' o URL, bien desde un cuadro de texto.

\subsubsection{Actores}

El actor principal es el usuario de la aplicación (fundamentalmente dirigida a un alumno, pero podría ser un profesor o cualquier otro usuario).

\subsubsection{Disparadores}

El caso de usa comienza cuando el usuario carga la consulta pulsa en el botón de ``Lanzar Consulta''.

\subsubsection{Flujo de eventos}
\begin{enumerate}
	\item Flujo básico
	\begin{enumerate}
		\item El usuario carga la consulta a lanzar, bien escribiéndola en el cuadro de texto, bien cargándola desde un archivo ``rq'' o URL donde se encuentre.
		\item El usuario pulsa en el botón de ``Lanzar Consulta''.
		\item Los resultados de la consulta aparecen en la tabla de ``Resultados''.
		
	\end{enumerate}
	\item Flujo alternativo 1
	\begin{enumerate}
			\item El usuario carga la consulta a lanzar, bien escribiéndola en el cuadro de texto, bien cargándola desde un archivo ``rq'' o URL donde se encuentre.
		\item El usuario pulsa en el botón de ``Lanzar Consulta''.
		\item Ocurre un error inesperado o de sintaxis al lanzar la consulta y aparece un mensaje de error para el usuario.
	\end{enumerate}
	
\end{enumerate}

\subsubsection{Requisitos especiales}

Ninguno.

\subsubsection{Precondiciones}

Debe existir un grafo cargado en memoria.

\subsubsection{Postcondiciones}

Ninguna.

\subsubsection{Extensiones}

Ninguna.

\subsection{Lanzar consulta a grafo remoto}\label{sec:lanzar-consulta-a-grafo-remoto}

\subsubsection{Descripción breve}

Este caso de uso  permite a un usuario lanzar una consulta SPARQL a un grafo ubicado en un endpoint remoto, bien desde un archivo con extensión ``rq'' o URL, bien desde un cuadro de texto.

\subsubsection{Actores}

El actor principal es el usuario de la aplicación (fundamentalmente dirigida a un alumno, pero podría ser un profesor o cualquier otro usuario).

\subsubsection{Disparadores}

El caso de usa comienza cuando el usuario activa la opción ``Usar endpoint SPARQL remoto''.

\subsubsection{Flujo de eventos}
\begin{enumerate}
	\item Flujo básico
	\begin{enumerate}
		\item El usuario activa la opción ``Usar endpoint SPARQL remoto''.
		\item El usuario introduce la URL del endpoint remoto.
		\item El usuario carga la consulta a lanzar, bien escribiéndola en el cuadro de texto, bien cargándola desde un archivo ``rq'' o URL donde se encuentre.
		\item El usuario pulsa en el botón de ``Lanzar Consulta''.
		\item Los resultados de la consulta al grafo remoto aparecen en la tabla de ``Resultados''.
		
	\end{enumerate}
	\item Flujo alternativo 1
	\begin{enumerate}
		\item El usuario activa la opción ``Usar endpoint SPARQL remoto''.
		\item El usuario introduce la URL del endpoint remoto.
		\item El usuario carga la consulta a lanzar, bien escribiéndola en el cuadro de texto, bien cargándola desde un archivo ``rq'' o URL donde se encuentre.
		\item El usuario pulsa en el botón de ``Lanzar Consulta''.
		\item Ocurre un error inesperado, de URL o de sintaxis al lanzar la consulta y aparece un mensaje de error para el usuario.
	\end{enumerate}
	
\end{enumerate}

\subsubsection{Requisitos especiales}

Ninguno.

\subsubsection{Precondiciones}

Los endpoints remotos deben soportar el protocolo SPARQL y tener correctamente configuradas las cabeceras CORS.

\subsubsection{Postcondiciones}

Ninguna.

\subsubsection{Extensiones}

Ninguna.